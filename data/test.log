/*C15*/SET SCHEMA PUBLIC
alter table Allergie_Participant drop constraint FK_hl46wtmvryjq0bbxsniehfy99
alter table Allergie_Participant drop constraint FK_dbxxrvtf0gmvxki3d2mkyycw9
alter table ChoixDate drop constraint FK_9tg3vx16urlw0j6ag1yiqxuoa
alter table Participant drop constraint FK_1jp3xvpmje9sllayhmqosgulm
alter table Participant_Allergie drop constraint FK_2hjo988qdqu1qqp3xtas1uvry
alter table Participant_Allergie drop constraint FK_buxlk2wicvjvt5mq80t5bx2mt
alter table Participant_Sondage drop constraint FK_34taop2v1n2b4joyhj4ktxlhm
alter table Participant_Sondage drop constraint FK_jna52jgrkth4p57fplewguaan
alter table Sondage drop constraint FK_gyy7reowkcox2140gc4pkkejw
alter table Sondage drop constraint FK_s7hxr2t26jhrofua4lwgbuj18
alter table Sondage drop constraint FK_6am8w6tsu7q2er10spg5y2g9o
alter table Sondage_Participant drop constraint FK_cy8r0w741x1dqq9122i5ukyoa
alter table Sondage_Participant drop constraint FK_qxts9hs2nh4vqpkssd0d1v4bj
drop table Allergie if exists
drop table Allergie_Participant if exists
drop table ChoixDate if exists
drop table Participant if exists
drop table Participant_Allergie if exists
drop table Participant_Sondage if exists
drop table PreferenceAlimentaire if exists
drop table Reunion if exists
drop table Sondage if exists
drop table Sondage_Participant if exists
drop table Utilisateur if exists
create table Allergie (idAllergie integer generated by default as identity (start with 1), libelleAllergie varchar(255), primary key (idAllergie))
create table Allergie_Participant (Allergie_idAllergie integer not null, participants_email varchar(255) not null)
create table ChoixDate (idChoixDate integer generated by default as identity (start with 1), dateSondage timestamp, pauseDejeuner boolean not null, sondage_idSondage integer, primary key (idChoixDate))
create table Participant (email varchar(255) not null, nom varchar(255), prenom varchar(255), preferenceAlimentaire_idPreferenceAlimentaire integer, primary key (email))
create table Participant_Allergie (Participant_ID varchar(255) not null, Allergie_ID integer not null)
create table Participant_Sondage (Participant_email varchar(255) not null, sondages_idSondage integer not null)
create table PreferenceAlimentaire (idPreferenceAlimentaire integer generated by default as identity (start with 1), libellePreferenceAlimentaire varchar(255), primary key (idPreferenceAlimentaire))
create table Reunion (idReunion integer generated by default as identity (start with 1), intitule varchar(255), resume varchar(255), primary key (idReunion))
create table Sondage (idSondage integer generated by default as identity (start with 1), choixDateSondage_idChoixDate integer, reunion_idReunion integer, utilisateur_email varchar(255), primary key (idSondage))
create table Sondage_Participant (Sondage_idSondage integer not null, participants_email varchar(255) not null)
create table Utilisateur (email varchar(255) not null, nom varchar(255), prenom varchar(255), primary key (email))
alter table Allergie_Participant add constraint FK_hl46wtmvryjq0bbxsniehfy99 foreign key (participants_email) references Participant
alter table Allergie_Participant add constraint FK_dbxxrvtf0gmvxki3d2mkyycw9 foreign key (Allergie_idAllergie) references Allergie
alter table ChoixDate add constraint FK_9tg3vx16urlw0j6ag1yiqxuoa foreign key (sondage_idSondage) references Sondage
alter table Participant add constraint FK_1jp3xvpmje9sllayhmqosgulm foreign key (preferenceAlimentaire_idPreferenceAlimentaire) references PreferenceAlimentaire
alter table Participant_Allergie add constraint FK_2hjo988qdqu1qqp3xtas1uvry foreign key (Allergie_ID) references Allergie
alter table Participant_Allergie add constraint FK_buxlk2wicvjvt5mq80t5bx2mt foreign key (Participant_ID) references Participant
alter table Participant_Sondage add constraint FK_34taop2v1n2b4joyhj4ktxlhm foreign key (sondages_idSondage) references Sondage
alter table Participant_Sondage add constraint FK_jna52jgrkth4p57fplewguaan foreign key (Participant_email) references Participant
alter table Sondage add constraint FK_gyy7reowkcox2140gc4pkkejw foreign key (choixDateSondage_idChoixDate) references ChoixDate
alter table Sondage add constraint FK_s7hxr2t26jhrofua4lwgbuj18 foreign key (reunion_idReunion) references Reunion
alter table Sondage add constraint FK_6am8w6tsu7q2er10spg5y2g9o foreign key (utilisateur_email) references Utilisateur
alter table Sondage_Participant add constraint FK_cy8r0w741x1dqq9122i5ukyoa foreign key (participants_email) references Participant
alter table Sondage_Participant add constraint FK_qxts9hs2nh4vqpkssd0d1v4bj foreign key (Sondage_idSondage) references Sondage
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
alter table Allergie_Participant drop constraint FK_hl46wtmvryjq0bbxsniehfy99
alter table Allergie_Participant drop constraint FK_dbxxrvtf0gmvxki3d2mkyycw9
alter table ChoixDate drop constraint FK_9tg3vx16urlw0j6ag1yiqxuoa
alter table Participant drop constraint FK_1jp3xvpmje9sllayhmqosgulm
alter table Participant_Sondage drop constraint FK_34taop2v1n2b4joyhj4ktxlhm
alter table Participant_Sondage drop constraint FK_jna52jgrkth4p57fplewguaan
alter table Sondage drop constraint FK_gyy7reowkcox2140gc4pkkejw
alter table Sondage drop constraint FK_s7hxr2t26jhrofua4lwgbuj18
alter table Sondage drop constraint FK_6am8w6tsu7q2er10spg5y2g9o
alter table Sondage_Participant drop constraint FK_cy8r0w741x1dqq9122i5ukyoa
alter table Sondage_Participant drop constraint FK_qxts9hs2nh4vqpkssd0d1v4bj
drop table Allergie_Participant if exists
drop table ChoixDate if exists
drop table Participant_Allergie if exists
drop table Participant_Sondage if exists
drop table PreferenceAlimentaire if exists
drop table Reunion if exists
drop table Sondage if exists
drop table Sondage_Participant if exists
drop table Utilisateur if exists
create table Allergie_Participant (Allergie_idAllergie integer not null, participants_email varchar(255) not null)
create table ChoixDate (idChoixDate integer generated by default as identity (start with 1), dateSondage timestamp, pauseDejeuner boolean not null, sondage_idSondage integer, primary key (idChoixDate))
create table Participant_Allergie (email varchar(255) not null, idAllergie integer not null)
create table Participant_Sondage (Participant_email varchar(255) not null, sondages_idSondage integer not null)
create table PreferenceAlimentaire (idPreferenceAlimentaire integer generated by default as identity (start with 1), libellePreferenceAlimentaire varchar(255), primary key (idPreferenceAlimentaire))
create table Reunion (idReunion integer generated by default as identity (start with 1), intitule varchar(255), resume varchar(255), primary key (idReunion))
create table Sondage (idSondage integer generated by default as identity (start with 1), choixDateSondage_idChoixDate integer, reunion_idReunion integer, utilisateur_email varchar(255), primary key (idSondage))
create table Sondage_Participant (Sondage_idSondage integer not null, participants_email varchar(255) not null)
create table Utilisateur (email varchar(255) not null, nom varchar(255), prenom varchar(255), primary key (email))
alter table Allergie_Participant add constraint FK_hl46wtmvryjq0bbxsniehfy99 foreign key (participants_email) references Participant
alter table Allergie_Participant add constraint FK_dbxxrvtf0gmvxki3d2mkyycw9 foreign key (Allergie_idAllergie) references Allergie
alter table ChoixDate add constraint FK_9tg3vx16urlw0j6ag1yiqxuoa foreign key (sondage_idSondage) references Sondage
alter table Participant add constraint FK_1jp3xvpmje9sllayhmqosgulm foreign key (preferenceAlimentaire_idPreferenceAlimentaire) references PreferenceAlimentaire
alter table Participant_Allergie add constraint FK_tcs9ibwiw2324t3xl6t0knbkj foreign key (idAllergie) references Allergie
alter table Participant_Allergie add constraint FK_9u5i32qca7gmycvy0shjmithn foreign key (email) references Participant
alter table Participant_Sondage add constraint FK_34taop2v1n2b4joyhj4ktxlhm foreign key (sondages_idSondage) references Sondage
alter table Participant_Sondage add constraint FK_jna52jgrkth4p57fplewguaan foreign key (Participant_email) references Participant
alter table Sondage add constraint FK_gyy7reowkcox2140gc4pkkejw foreign key (choixDateSondage_idChoixDate) references ChoixDate
alter table Sondage add constraint FK_s7hxr2t26jhrofua4lwgbuj18 foreign key (reunion_idReunion) references Reunion
alter table Sondage add constraint FK_6am8w6tsu7q2er10spg5y2g9o foreign key (utilisateur_email) references Utilisateur
alter table Sondage_Participant add constraint FK_cy8r0w741x1dqq9122i5ukyoa foreign key (participants_email) references Participant
alter table Sondage_Participant add constraint FK_qxts9hs2nh4vqpkssd0d1v4bj foreign key (Sondage_idSondage) references Sondage
DISCONNECT
